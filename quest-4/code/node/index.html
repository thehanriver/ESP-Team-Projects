<!DOCTYPE html>
<html>
  <head>
	  <title>Quest 4</title>
  </head>
  <body>
    <h> Quest 4 </h>
  	<div id="div1"></div>
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <button id="All"
			  type="button"
			  onClick=readAll()
			  style=" height:50px; width:200px ">
  		All Candidates
  	</button>

  	

  	<button  id="Cands"
        type="button"
			  onClick=candVotes()
			  style=" height:50px; width:200px ">
  	   Votes by Candidates
    </button>
    
    <button id="Clear"
			  type="button"
			  onClick=sendClear();
			  style=" height:50px; width:200px ">
  		Clear Database
  	</button>
    <script>

      var contents;
      var contents_R;
      var contents_G;
      var contents_B;

      function readAll(){
      $.ajax({url: "/all", success: function(result){
      contents ="";
      jQuery.each(result, function(i, val) {
          contents += val[0] + ", " + val[1] + ", " + val[2] + " <br />";
        });
        $("#div1").remove(contents_G);
        $("#div1").remove(contents_B);
        $("#div1").remove(contents_R);
        $("#div1").remove(contents);

      //We add contents HTML content to page
        $("#div1").html(contents);
      }});
      }

      function candVotes(){
        $.ajax({url: "/all/red", success: function(result){
        contents_R ="";
        jQuery.each(result, function(i, val) {
            contents_R += val[0] + ", " + val[1] + +  " <br />";
          });
          $("#div1").remove(contents_G);
          $("#div1").remove(contents_B);
          $("#div1").remove(contents);
          $("#div1").html(contents_R);
        }});
        $.ajax({url: "/all/green", success: function(result){
        var contents_G ="";
        jQuery.each(result, function(i, val) {
            contents_G+= val[0] + ", " + val[1] + +  " <br />";
        });
        $("#div1").remove(contents_R);
        $("#div1").remove(contents_B);
        $("#div1").remove(contents);
        $("#div1").html(contents_G);
        }});
        $.ajax({url: "/all/blue", success: function(result){
        var contents_B ="";
        jQuery.each(result, function(i, val) {
            contents_B += val[0] + ", " + val[1] + +  " <br />";
        });
          $("#div1").remove(contents_G);
          $("#div1").remove(contents_R);
          $("#div1").remove(contents);
          $("#div1").html(contents_B);
        }});
        
      }

      function sendClear() {
        $.post('/clear',{clear: 1},function(data,clear){
          console.log('cleared');
          $("#div1").remove(contents_G);
          $("#div1").remove(contents_B);
          $("#div1").remove(contents_R);
          $("#div1").remove(contents);
          });
      }

    </script>

    

  </body>
</html>
